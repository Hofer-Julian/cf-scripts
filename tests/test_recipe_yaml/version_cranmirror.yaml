schema_version: 1

context:
  version: 0.3.2
  posix: "'m2-' if win else ''"
  native: "'m2w64-' if win else ''"

package:
  name: r-taxa
  version: ${{ version|replace("-", "_") }}

source:
  url:
    - ${{ cran_mirror }}/src/contrib/taxa_${{ version }}.tar.gz
    - ${{ cran_mirror }}/src/contrib/Archive/taxa/taxa_${{ version }}.tar.gz
  sha256: 351543543ldfjlsdkfadsa

build:
  number: 10
  noarch: generic
  merge_build_and_host_envs: ${{ true if win }}
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - if: win
      then: ${{posix}}zip
  host:
    - r-base
    - r-r6
    - r-crayon
    - r-dplyr
    - r-jsonlite
    - r-knitr
    - r-lazyeval
    - r-magrittr
    - r-rlang
    - r-stringr
    - r-taxize
    - r-tibble
    - r-tidyr
  run:
    - r-base
    - r-r6
    - r-crayon
    - r-dplyr
    - r-jsonlite
    - r-knitr
    - r-lazyeval
    - r-magrittr
    - r-rlang
    - r-stringr
    - r-taxize
    - r-tibble
    - r-tidyr

tests:
  - script:
      - if: not win
        then: "$R -e \"library('taxa')\""
      - if: win
        then: "\"%R%\" -e \"library('taxa')\""

about:
  license: MIT
  license_file: LICENSE
  summary: |
    Provides taxonomic classes for groupings of taxonomic names without data, and those
    with data. Methods provided are "taxonomically aware", in that they know about ordering
    of ranks, and methods that filter based on taxonomy also filter associated data.
  homepage: https://github.com/ropensci/taxa

extra:
  recipe-maintainers:
    - conda-forge/r

