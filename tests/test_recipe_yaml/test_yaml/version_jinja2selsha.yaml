schema_version: 1

context:
  version: 4.7.1

package:
  name: antlr-python-runtime
  version: ${{ version }}

source:
  url: https://pypi.io/packages/source/${{ name[0] }}/${{ name }}/${{ name }}-${{ version }}.tar.gz
  sha256: ${{ sha256 }}

build:
  number: 1000
  script: ${{ PYTHON }} -m pip install . --no-deps --ignore-installed --no-cache-dir -vvv

requirements:
  build:
    - python
    - pip
  run:
    - python

tests:
  - python:
      imports:
        - antlr4
        - antlr4.atn
        - antlr4.dfa
        - antlr4.error
        - antlr4.tree
        - antlr4.xpath

about:
  license: BSD-3-Clause
  summary: This is the Python runtime for ANTLR.
  homepage: http://www.antlr.org
  repository: https://github.com/antlr/antlr4
  documentation: https://github.com/antlr/antlr4/blob/master/doc/python-target.md

extra:
  recipe-maintainers:
    - bollwyvl

- if: "py2k]\"  # [py2k"  # [py2k'
  then: "{% set name = \"antlr4-python2-runtime\" %}  # [py2k]"  # [py2k]'

- if: "py2k]\"  # [py2k"  # [py2k'
  then: '{% set sha256 = "3bc09f7fe058fe8ede92e5d292f7a6932022cde28bb0ba5f44f96842c3c894d8":
    - "%}  # [py2k]'"  # [py2k]'

- if: "py3k]\"  # [py3k"  # [py3k'
  then: "{% set name = \"antlr4-python3-runtime\" %}  # [py3k]"  # [py3k]'

- if: "py3k]\"  # [py3k"  # [py3k'
  then: '{% set sha256 = "1b26b72c4492cef310542da10bf6b2ab4aa1775618fc6003f75b55ae9eaa3fd3":
    - "%}  # [py3k]'"  # [py3k]'

